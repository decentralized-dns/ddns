{% extends 'base.html' %} {% block main_part %}

<section class="content-wrapper">
  <div class="container">
    <article class="col-12 text-left">
      <h2 class="section-title">Connect To Your Wallet</h2>
      <h3 class="section-subtitle">Choose your wallet provider:</h3>

      <div class="wallet-display">
        <div class="wallet-item">
          <a href="/connect-pera">
            <img src="{{ url_for('static', path='img/pera.png') }}" alt="Pera Wallet" class="img-responsive" />
            <h4 class="wallet-name">Pera Wallet</h4>
          </a>
        </div>
      </div>

      <div>
        <p id="message"></p>
      </div>
    </article>
  </div>
</section>

<script>
  // Connect to Pera Wallet
  document
    .querySelector("a[href='/connect-pera']")
    .addEventListener("click", async function (event) {
      event.preventDefault();
      try {
        const accounts = await window.algoSigner.connect({
          name: "Pera Wallet",
          ledger: "TestNet",
        });
        document.getElementById("message").textContent =
          "Connected to Pera Wallet";
      } catch (error) {
        console.error(error);
        document.getElementById("message").textContent =
          "Failed to connect to Pera Wallet";
      }
    });
</script>

{% endblock %}
